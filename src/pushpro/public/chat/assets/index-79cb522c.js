import{W as y,d as ie,r as v,e as E,w as $,f as ne,R as c,S as u,a2 as t,F as q,k as D,a5 as V,L as N,a4 as x,a7 as de,a8 as T,a6 as f,a3 as g,c as ce,aa as X,n as M,ab as ue,ac as ge}from"./vue-f337fce5.js";import{m as ve,d as ye,a as pe}from"./index-e8e306c5.js";import{S as me,f as xe,c as be,l as he,n as fe}from"./xhs-06219a15.js";import{I as F}from"./index-ac008ee1.js";import{_ as ke}from"./_plugin-vue_export-helper-c27b6911.js";const _e=F("edit",!0,function(l){return y("svg",{width:l.size,height:l.size,viewBox:"0 0 48 48",fill:"none"},[y("path",{d:"M7 42H43",stroke:l.colors[0],"stroke-width":l.strokeWidth,"stroke-linecap":l.strokeLinecap,"stroke-linejoin":l.strokeLinejoin},null),y("path",{d:"M11 26.7199V34H18.3172L39 13.3081L31.6951 6L11 26.7199Z",fill:l.colors[1],stroke:l.colors[0],"stroke-width":l.strokeWidth,"stroke-linejoin":l.strokeLinejoin},null)])}),H=F("plus",!1,function(l){return y("svg",{width:l.size,height:l.size,viewBox:"0 0 48 48",fill:"none"},[y("path",{d:"M24.0605 10L24.0239 38",stroke:l.colors[0],"stroke-width":l.strokeWidth,"stroke-linecap":l.strokeLinecap,"stroke-linejoin":l.strokeLinejoin},null),y("path",{d:"M10 24L38 24",stroke:l.colors[0],"stroke-width":l.strokeWidth,"stroke-linecap":l.strokeLinecap,"stroke-linejoin":l.strokeLinejoin},null)])}),i=l=>(ue("data-v-51e76384"),l=l(),ge(),l),we={class:"redbook-activities-container p-4"},Ae={key:0,class:"flex flex-col items-center justify-center py-20"},Ce=i(()=>t("div",{class:"text-gray-500 dark:text-gray-400 mb-4 text-center"}," 请先登录后再使用此功能 ",-1)),je={class:"mb-6 flex justify-between items-center"},Ie={class:"relative flex items-center"},Le=i(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 absolute left-3 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),$e=i(()=>t("span",null,"添加活动",-1)),De={key:0,class:"flex justify-center items-center py-10"},Ne=i(()=>t("div",{class:"loader"},null,-1)),Me=[Ne],ze={key:1,class:"py-10 text-center text-red-500"},Se={key:2,class:"py-10 text-center text-gray-500"},Re={key:3,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4"},Be=["onClick"],Ee={class:"flex justify-between items-center mb-2"},Te={class:"text-lg font-medium text-gray-800 dark:text-gray-200 line-clamp-1 break-all mr-2"},Pe={class:"flex items-center space-x-1"},Ue=["onClick"],We=["onClick"],Qe=["onClick"],qe=i(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),Ve=[qe],Xe={class:"flex flex-wrap gap-1 mb-3"},He={key:0,class:"text-xs px-2 py-0.5 bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 rounded-full"},Fe={key:0,class:"mr-1"},Oe={key:1,class:"mr-1"},Ze={class:"grid grid-cols-3 gap-2 w-full mt-1"},Ge={class:"text-center py-1 rounded-md bg-gray-100 dark:bg-gray-700/50 flex flex-col justify-center"},Je={class:"text-xl font-bold text-gray-700 dark:text-gray-300 mb-1"},Ke=i(()=>t("div",{class:"text-xs text-gray-500 dark:text-gray-400"},"笔记总数",-1)),Ye={class:"text-center py-1 rounded-md bg-green-50 dark:bg-green-900/20 flex flex-col justify-center"},et={class:"text-xl font-bold text-green-600 dark:text-green-400 mb-1"},tt=i(()=>t("div",{class:"text-xs text-green-600/70 dark:text-green-500"},"可发布数",-1)),at={class:"text-center py-1 rounded-md bg-blue-50 dark:bg-blue-900/20 flex flex-col justify-center"},ot={class:"text-xl font-bold text-blue-600 dark:text-blue-400 mb-1"},rt=i(()=>t("div",{class:"text-xs text-blue-600/70 dark:text-blue-500"},"已发布数",-1)),st={key:4,class:"fixed inset-0 flex items-center justify-center z-50 animate-fadeIn"},lt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4 z-10 shadow-xl animate-scaleIn"},it=i(()=>t("h2",{class:"text-xl font-bold mb-6 text-gray-800 dark:text-gray-200"},"添加活动",-1)),nt={class:"mb-5"},dt=i(()=>t("label",{class:"block text-gray-700 dark:text-gray-300 mb-2 font-medium"},"活动名称",-1)),ct={class:"mb-6"},ut=i(()=>t("label",{class:"block text-gray-700 dark:text-gray-300 mb-3 font-medium"},"内容类型",-1)),gt={class:"flex space-x-4"},vt=i(()=>t("div",{class:"text-3xl mb-2"},"📸",-1)),yt=i(()=>t("div",{class:"text-3xl mb-2"},"🎬",-1)),pt={class:"flex justify-end space-x-3 mt-6"},mt={key:5,class:"fixed inset-0 flex items-center justify-center z-50 animate-fadeIn"},xt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4 z-10 shadow-xl animate-scaleIn"},bt={class:"flex items-center justify-between mb-6"},ht={class:"text-xl font-bold text-gray-800 dark:text-gray-200"},ft=i(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),kt=[ft],_t={class:"flex flex-col items-center justify-center py-4"},wt={class:"bg-white p-4 rounded-lg shadow-sm mb-4"},At=["src"],Ct=i(()=>t("p",{class:"text-sm text-gray-600 dark:text-gray-400 text-center mt-2 mb-6"}," 扫描二维码访问活动 ",-1)),jt={class:"flex justify-center"},It={key:6,class:"fixed inset-0 flex items-center justify-center z-50 animate-fadeIn"},Lt={class:"bg-white dark:bg-gray-800 rounded-xl p-6 w-full max-w-md mx-4 z-10 shadow-xl animate-scaleIn"},$t={class:"flex items-center justify-between mb-6"},Dt=i(()=>t("h2",{class:"text-xl font-bold text-gray-800 dark:text-gray-200"},"编辑活动",-1)),Nt=i(()=>t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),Mt=[Nt],zt={class:"mb-5"},St=i(()=>t("label",{class:"block text-gray-700 dark:text-gray-300 mb-2 font-medium"},"活动名称",-1)),Rt=["value"],Bt={class:"mb-6"},Et=i(()=>t("label",{class:"block text-gray-700 dark:text-gray-300 mb-3 font-medium"},"内容类型",-1)),Tt={class:"flex space-x-4"},Pt=["checked"],Ut=i(()=>t("div",{class:"text-3xl mb-2"},"📸",-1)),Wt=["checked"],Qt=i(()=>t("div",{class:"text-3xl mb-2"},"🎬",-1)),qt={class:"mb-6"},Vt=i(()=>t("label",{class:"block text-gray-700 dark:text-gray-300 mb-2 font-medium"},"活动状态",-1)),Xt=["value"],Ht=i(()=>t("option",{value:"active"},"活跃",-1)),Ft=i(()=>t("option",{value:"paused"},"暂停",-1)),Ot=i(()=>t("option",{value:"completed"},"完成",-1)),Zt=[Ht,Ft,Ot],Gt={class:"flex justify-end space-x-3 mt-6"},Jt=ie({__name:"index",setup(l){var Q;ve();const k=ye(),_=pe(),w=v(!1),z=v(null),j=v(0),S=v(!1),R=v(!1),I=v(""),O=E(()=>{if(!I.value.trim())return d.value;const o=I.value.toLowerCase().trim();return d.value.filter(e=>e.name.toLowerCase().includes(o)||e.type.toLowerCase().includes(o)||e.status.toLowerCase().includes(o))}),d=v([]),b=v(!1),n=v({name:"",type:"normal"}),h=v(!1),s=v(null),A=v(!1),C=v(null),Z=E(()=>C.value?`https://xhs.aivip1.top/api/html-render/qrcode?data=${encodeURIComponent(`${window.location.origin}/chat#/xhs-auto-api?identifier=${C.value.id}`)}`:""),r=window==null?void 0:window.$message,P=E(()=>{var o;return!!k.token&&!!((o=k==null?void 0:k.userInfo)!=null&&o.id)}),U=(o="")=>{const e=Date.now().toString().slice(-6),a=Math.random().toString(36).substring(2,7);return o?`${o}_${e}${a}`:`${e}${a}`},B=()=>{d.value.some(e=>e.isDefault)||d.value.push({id:U("d"),name:"日常使用",type:"normal",status:"active",totalNotes:0,availableNotes:0,publishedNotes:0,isDefault:!0})};$(()=>j.value,async()=>{await W()});const G=o=>new Promise(e=>setTimeout(e,o));async function L(o=0){if(console.log("RedBookActivities组件初始化...，重试次数:",o),S.value&&o===0){console.log("RedBookActivities组件已初始化，跳过");return}console.log("RedBookActivities组件首次初始化，准备获取数据"),S.value=!0;try{await W(),console.log("RedBookActivities组件初始化完成")}catch(e){console.error("初始化过程中出错:",e),o<2?(console.log(`初始化失败，将在1秒后重试(${o+1}/2)`),await G(1e3),await L(o+1)):(console.error("重试次数达到上限，初始化失败"),z.value="加载失败，请刷新页面重试")}}async function W(){var o,e;if(console.log("fetchActivitiesData被调用，loading状态:",w.value,"登录状态:",P.value),w.value){console.log("正在加载中，跳过请求");return}if(!P.value){console.log("用户未登录，显示登录提示"),R.value=!0;return}try{console.log("开始请求活动列表数据..."),w.value=!0;const a=await xe();if(console.log("活动列表API响应得到:",a),a!=null&&a.data){d.value=[];const p=Array.isArray(a.data)?a.data:a.data.data&&Array.isArray(a.data.data)?a.data.data:[a.data];d.value=p.map(m=>({id:m.id||U("a"),name:m.name,type:m.type,status:m.status,isDefault:m.isDefault,totalNotes:m.totalNotes,availableNotes:m.availableNotes,publishedNotes:m.publishedNotes})),d.value.length===0&&B()}else d.value=[],B()}catch(a){(o=a==null?void 0:a.message)!=null&&o.includes("401")||((e=a==null?void 0:a.response)==null?void 0:e.status)===401?(R.value=!0,a.value="请先登录后再使用此功能"):(r==null||r.error("获取活动类型失败，请稍后重试"),a.value=(a==null?void 0:a.message)||"获取活动类型失败"),d.value=[],B()}finally{w.value=!1}}const J=async()=>{if(!n.value.name.trim()){r==null||r.error("活动名称不能为空");return}if(d.value.some(e=>e.name===n.value.name.trim())){r==null||r.error("活动名称已存在，请使用其他名称");return}try{const e=await be({name:n.value.name.trim(),type:n.value.type,status:"active"});e!=null&&e.data?(r==null||r.success("添加活动成功"),j.value+=1):r==null||r.error("添加活动失败，请稍后重试")}catch(e){console.error("创建活动类型失败",(e==null?void 0:e.message)||e),r==null||r.error("添加活动失败: "+((e==null?void 0:e.message)||"未知错误"))}n.value={name:"",type:"normal"},b.value=!1},K=async o=>{const e=d.value.find(a=>a.id===o);if(e!=null&&e.isDefault){r==null||r.error("不能删除默认活动类型");return}try{await he(o),d.value=d.value.filter(a=>a.id!==o),r==null||r.success("删除活动类型成功")}catch(a){console.error("删除活动类型失败",(a==null?void 0:a.message)||a),r==null||r.error("删除活动类型失败: "+((a==null?void 0:a.message)||"未知错误"))}},Y=o=>{C.value=o,A.value=!0},ee=o=>{try{const e=d.value.find(a=>a.id===o);e!=null&&e.isDefault?(_.showApp({id:"xhs-notes",name:"小红书笔记",type:"built-in",path:"xhs-notes",params:{activityId:"default"}}),localStorage.setItem("currentActivityId","default"),r==null||r.success(`正在打开默认活动: ${e.name}`)):(_.showApp({id:"xhs-notes",name:"小红书笔记",type:"built-in",path:"xhs-notes",params:{activityId:o}}),localStorage.setItem("currentActivityId",o),r==null||r.success(`正在打开活动: ${e==null?void 0:e.name}`))}catch{r==null||r.error("打开活动失败，请稍后重试")}},te=o=>{switch(o){case"active":return"text-green-600 dark:text-green-400 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800";case"paused":return"text-yellow-600 dark:text-yellow-400 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800";case"completed":return"text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-700";default:return"text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-700"}},ae=()=>{k.setLoginDialog(!0)};ne(()=>{console.log("RedBookActivities组件挂载完成，立即初始化"),L()}),$(()=>_.showEmbeddedApp,o=>{var e;console.log("appCatStore.showEmbeddedApp变化:",o),o&&((e=_.currentEmbeddedApp)==null?void 0:e.path)==="xhs-activities"&&(console.log("检测到小红书活动类型组件显示，准备初始化"),M(()=>{L()}))},{immediate:!0});function oe(){console.log("强制刷新活动列表"),j.value+=1}$(()=>_.currentEmbeddedApp,o=>{(o==null?void 0:o.path)==="xhs-activities"&&(console.log("检测到活动类型成为当前显示组件，准备刷新数据"),S.value&&(console.log("组件已初始化，强制刷新数据"),M(()=>{oe()})))},{deep:!0});const re=(Q=window==null?void 0:window.location)==null?void 0:Q.hash;$(()=>re,(o,e)=>{o!==e&&o.includes("xhs-activities")&&(console.log("检测到路由变化到活动类型组件，刷新数据"),M(()=>{L()}))});const se=(o,e)=>{e.stopPropagation();const a={id:o.id,name:o.name||"",type:o.type||"normal",status:o.status||"active",totalNotes:o.totalNotes||0,availableNotes:o.availableNotes||0,publishedNotes:o.publishedNotes||0,isDefault:o.isDefault||!1};s.value=a,console.log("正在编辑活动:",s.value),M(()=>{h.value=!0})},le=async()=>{if(!s.value)return;if(!s.value.name.trim()){r==null||r.error("活动名称不能为空");return}if(d.value.some(e=>{var a,p;return e.name===((a=s.value)==null?void 0:a.name.trim())&&e.id!==((p=s.value)==null?void 0:p.id)})){r==null||r.error("活动名称已存在，请使用其他名称");return}try{const e=await fe(s.value.id,{name:s.value.name.trim(),type:s.value.type,status:s.value.status});e!=null&&e.data?(r==null||r.success("更新活动成功"),j.value+=1):r==null||r.error("更新活动失败，请稍后重试")}catch(e){console.error("更新活动类型失败",(e==null?void 0:e.message)||e),r==null||r.error("更新活动失败: "+((e==null?void 0:e.message)||"未知错误"))}h.value=!1,s.value=null};return(o,e)=>(c(),u("div",we,[R.value?(c(),u("div",Ae,[Ce,t("button",{onClick:ae,class:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors"}," 去登录 ")])):(c(),u(q,{key:1},[t("div",je,[t("div",Ie,[D(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>I.value=a),type:"text",placeholder:"搜索活动...",class:"pl-10 pr-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-800 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-primary-500 w-64"},null,512),[[V,I.value]]),Le]),t("button",{onClick:e[1]||(e[1]=a=>b.value=!0),class:"px-4 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-lg flex items-center shadow-sm transition-all duration-200 transform hover:scale-105"},[y(N(H),{theme:"filled",class:"mr-1",size:"18"}),$e])]),w.value?(c(),u("div",De,Me)):z.value?(c(),u("div",ze,x(z.value),1)):d.value.length===0?(c(),u("div",Se," 暂无活动类型，请添加 ")):(c(),u("div",Re,[(c(!0),u(q,null,de(O.value,a=>(c(),u("div",{key:a.id,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm hover:shadow p-5 border border-gray-100 dark:border-gray-700 hover:border-gray-300 dark:hover:border-gray-600 transition-all duration-300 relative overflow-hidden cursor-pointer",onClick:p=>ee(a.id)},[t("div",Ee,[t("h3",Te,x(a.name),1),t("div",Pe,[t("button",{onClick:T(p=>Y(a),["stop"]),class:"text-gray-400 hover:text-blue-500 transition-colors p-1 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20",title:"查看二维码"},[y(N(me),{theme:"outline",size:"18"})],8,Ue),t("button",{onClick:T(p=>se(a,p),["stop"]),class:"text-gray-400 hover:text-green-500 transition-colors p-1 rounded-full hover:bg-green-50 dark:hover:bg-green-900/20",title:"编辑活动"},[y(N(_e),{theme:"outline",size:"18"})],8,We),a.isDefault?f("",!0):(c(),u("button",{key:0,onClick:T(p=>K(a.id),["stop"]),class:"text-gray-400 hover:text-red-500 transition-colors p-1 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20",title:"删除活动"},Ve,8,Qe))])]),t("div",Xe,[a.isDefault?(c(),u("span",He," 默认 ")):f("",!0),t("span",{class:g(["inline-flex items-center text-xs px-2 py-0.5 rounded-full",a.type==="video"?"bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400":"bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400"])},[a.type==="video"?(c(),u("span",Fe,"🎬")):(c(),u("span",Oe,"📸")),ce(" "+x(a.type==="video"?"视频":"图文"),1)],2),t("span",{class:g(["text-xs px-3 py-0.5 rounded-full font-medium",te(a.status)])},x(a.status==="active"?"活跃":a.status==="paused"?"暂停":a.status==="completed"?"完成":a.status),3)]),t("div",Ze,[t("div",Ge,[t("div",Je,x(a.totalNotes),1),Ke]),t("div",Ye,[t("div",et,x(a.availableNotes),1),tt]),t("div",at,[t("div",ot,x(a.publishedNotes),1),rt])])],8,Be))),128))])),b.value?(c(),u("div",st,[t("div",{class:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:e[2]||(e[2]=a=>b.value=!1)}),t("div",lt,[it,t("div",nt,[dt,D(t("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>n.value.name=a),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 text-gray-800 dark:text-white transition-all",placeholder:"请输入活动名称"},null,512),[[V,n.value.name]])]),t("div",ct,[ut,t("div",gt,[t("label",{class:g(["flex-1 relative cursor-pointer",{"opacity-100":n.value.type==="normal","opacity-70":n.value.type!=="normal"}])},[D(t("input",{type:"radio",name:"activityType",value:"normal","onUpdate:modelValue":e[4]||(e[4]=a=>n.value.type=a),class:"absolute opacity-0 h-0 w-0"},null,512),[[X,n.value.type]]),t("div",{class:g(["p-4 flex flex-col items-center justify-center rounded-lg border transition-all duration-200 h-24",n.value.type==="normal"?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-700 shadow-sm":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"])},[vt,t("div",{class:g(["text-sm font-medium",n.value.type==="normal"?"text-primary-700 dark:text-primary-400":"text-gray-700 dark:text-gray-400"])}," 图文 ",2)],2)],2),t("label",{class:g(["flex-1 relative cursor-pointer",{"opacity-100":n.value.type==="video","opacity-70":n.value.type!=="video"}])},[D(t("input",{type:"radio",name:"activityType",value:"video","onUpdate:modelValue":e[5]||(e[5]=a=>n.value.type=a),class:"absolute opacity-0 h-0 w-0"},null,512),[[X,n.value.type]]),t("div",{class:g(["p-4 flex flex-col items-center justify-center rounded-lg border transition-all duration-200 h-24",n.value.type==="video"?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-700 shadow-sm":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"])},[yt,t("div",{class:g(["text-sm font-medium",n.value.type==="video"?"text-primary-700 dark:text-primary-400":"text-gray-700 dark:text-gray-400"])}," 视频 ",2)],2)],2)])]),t("div",pt,[t("button",{onClick:e[6]||(e[6]=a=>b.value=!1),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"}," 取消 "),t("button",{onClick:J,class:"px-4 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-lg transition-colors shadow-sm"}," 添加 ")])])])):f("",!0),A.value&&C.value?(c(),u("div",mt,[t("div",{class:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:e[7]||(e[7]=a=>A.value=!1)}),t("div",xt,[t("div",bt,[t("h2",ht,x(C.value.name)+" 二维码 ",1),t("button",{onClick:e[8]||(e[8]=a=>A.value=!1),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},kt)]),t("div",_t,[t("div",wt,[t("img",{src:Z.value,alt:"QR Code",class:"w-64 h-64"},null,8,At)]),Ct]),t("div",jt,[t("button",{onClick:e[9]||(e[9]=a=>A.value=!1),class:"px-6 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-lg transition-colors shadow-sm"}," 关闭 ")])])])):f("",!0),h.value&&s.value?(c(),u("div",It,[t("div",{class:"absolute inset-0 bg-black bg-opacity-50 backdrop-blur-sm",onClick:e[10]||(e[10]=a=>h.value=!1)}),t("div",Lt,[t("div",$t,[Dt,t("button",{onClick:e[11]||(e[11]=a=>h.value=!1),class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},Mt)]),f("",!0),t("div",zt,[St,t("input",{value:s.value.name,onInput:e[12]||(e[12]=a=>s.value.name=a.target.value),type:"text",class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 text-gray-800 dark:text-white transition-all",placeholder:"请输入活动名称"},null,40,Rt)]),t("div",Bt,[Et,t("div",Tt,[t("label",{class:g(["flex-1 relative cursor-pointer",{"opacity-100":s.value.type==="normal","opacity-70":s.value.type!=="normal"}])},[t("input",{type:"radio",name:"editActivityType",value:"normal",checked:s.value.type==="normal",onChange:e[13]||(e[13]=a=>s.value.type="normal"),class:"absolute opacity-0 h-0 w-0"},null,40,Pt),t("div",{class:g(["p-4 flex flex-col items-center justify-center rounded-lg border transition-all duration-200 h-24",s.value.type==="normal"?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-700 shadow-sm":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"])},[Ut,t("div",{class:g(["text-sm font-medium",s.value.type==="normal"?"text-primary-700 dark:text-primary-400":"text-gray-700 dark:text-gray-400"])}," 图文 ",2)],2)],2),t("label",{class:g(["flex-1 relative cursor-pointer",{"opacity-100":s.value.type==="video","opacity-70":s.value.type!=="video"}])},[t("input",{type:"radio",name:"editActivityType",value:"video",checked:s.value.type==="video",onChange:e[14]||(e[14]=a=>s.value.type="video"),class:"absolute opacity-0 h-0 w-0"},null,40,Wt),t("div",{class:g(["p-4 flex flex-col items-center justify-center rounded-lg border transition-all duration-200 h-24",s.value.type==="video"?"border-primary-500 bg-primary-50 dark:bg-primary-900/20 dark:border-primary-700 shadow-sm":"border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800"])},[Qt,t("div",{class:g(["text-sm font-medium",s.value.type==="video"?"text-primary-700 dark:text-primary-400":"text-gray-700 dark:text-gray-400"])}," 视频 ",2)],2)],2)])]),t("div",qt,[Vt,t("select",{value:s.value.status,onChange:e[15]||(e[15]=a=>s.value.status=a.target.value),class:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 dark:bg-gray-700 text-gray-800 dark:text-white transition-all"},Zt,40,Xt)]),t("div",Gt,[t("button",{onClick:e[16]||(e[16]=a=>h.value=!1),class:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors"}," 取消 "),t("button",{onClick:le,class:"px-4 py-2 bg-primary-600 hover:bg-primary-500 text-white rounded-lg transition-colors shadow-sm"}," 保存 ")])])])):f("",!0),t("button",{onClick:e[17]||(e[17]=a=>b.value=!0),class:"fixed right-8 bottom-8 w-14 h-14 rounded-full bg-primary-600 hover:bg-primary-500 text-white shadow-lg flex items-center justify-center transition-all duration-200 transform hover:scale-110 z-20",title:"添加活动"},[y(N(H),{theme:"filled",size:"28"})])],64))]))}});const Kt=ke(Jt,[["__scopeId","data-v-51e76384"]]),ra=Object.freeze(Object.defineProperty({__proto__:null,default:Kt},Symbol.toStringTag,{value:"Module"}));export{_e as E,Kt as R,ra as i};
