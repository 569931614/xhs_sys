import{d as ye,r as h,e as ne,j as ie,f as _e,R as l,S as n,a3 as b,a4 as v,a6 as g,a2 as e,k as q,a5 as be,af as Ce,aj as de,c as L,F as G,a7 as W,a8 as U,ab as Me,ac as je}from"./vue-f337fce5.js";import{K as T,a as Ie}from"./index-e8e306c5.js";import{_ as Ve}from"./_plugin-vue_export-helper-c27b6911.js";import"./naive-ui-5426aa23.js";import"./vueuse-motion-2f7a1d90.js";const A={success:_=>{console.log(`成功: ${_}`)},error:_=>{console.error(`错误: ${_}`)},warning:_=>{console.warn(`警告: ${_}`)},info:_=>{console.info(`信息: ${_}`)}},c=_=>(Me("data-v-e4832ba3"),_=_(),je(),_),ze={class:"h-full w-full relative overflow-hidden flex flex-col bg-white dark:bg-gray-900 min-h-screen"},Se={class:"flex-1 overflow-auto p-2 sm:p-4 md:p-6 min-h-[calc(100vh-60px)] bg-white dark:bg-gray-900"},$e={class:"max-w-7xl mx-auto pb-8"},De={class:"mb-4 text-center"},Le={class:"flex items-center justify-center"},Te=c(()=>e("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-800 dark:text-gray-200 flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8 mr-2 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})]),L(" 笔记模板市场 ")],-1)),Ae=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1)),Be=[Ae],Fe=c(()=>e("p",{class:"text-gray-600 dark:text-gray-400 mt-1"},"浏览、搜索和导入优质小红书笔记模板",-1)),He={class:"mb-4"},Pe={class:"flex flex-col sm:flex-row gap-3"},Ne={class:"flex-1"},Ee={class:"relative"},Ue=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),Oe=[Ue],Re={class:"sm:w-48"},Ye=["fill"],Ke=c(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)),Je=[Ke],Qe={class:"sm:w-48"},Xe=c(()=>e("option",{value:"createTime"},"最新优先",-1)),qe=c(()=>e("option",{value:"likesCount"},"热门优先",-1)),Ge=c(()=>e("option",{value:"viewsCount"},"多人查看",-1)),We=c(()=>e("option",{value:"title"},"标题排序",-1)),Ze=[Xe,qe,Ge,We],et={class:"sm:w-48"},tt=c(()=>e("option",{value:"DESC"},"降序",-1)),ot=c(()=>e("option",{value:"ASC"},"升序",-1)),st=[tt,ot],rt={key:0,class:"mb-2 p-2 border rounded bg-gray-50 dark:bg-gray-800 text-xs overflow-auto"},at={class:"flex justify-between items-center"},lt={key:0,class:"flex items-center gap-2 text-pink-500"},nt=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"currentColor",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})],-1)),it=c(()=>e("span",null,"仅显示我的收藏",-1)),dt=[nt,it],ct={class:"mb-4"},ut={class:"text-sm text-gray-500 dark:text-gray-400 mb-2 flex justify-between items-center"},vt={key:0,class:"text-xs"},ht={class:"overflow-x-auto pb-2 custom-scrollbar"},gt={class:"flex space-x-3 min-w-max"},pt=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1)),mt=["onClick"],wt=["d"],ft={key:1,class:"w-5 h-5 mr-1.5 rounded-full bg-gray-300 dark:bg-gray-600 flex items-center justify-center text-xs"},kt={key:1,class:"flex justify-center my-12"},xt=c(()=>e("div",{class:"spinner"},null,-1)),yt=[xt],_t={key:2,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-5"},bt=["onClick"],Ct={class:"aspect-w-3 aspect-h-4 bg-gray-100 dark:bg-gray-700 relative"},Mt=["src","alt","onError"],jt={key:1,class:"w-full h-full flex items-center justify-center text-gray-400"},It=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),Vt=[It],zt=["onClick"],St=["fill"],$t=c(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)),Dt=[$t],Lt={class:"p-4 flex-1 flex flex-col"},Tt=["title"],At=["title"],Bt={class:"flex flex-col space-y-2 mt-auto pt-2 border-t border-gray-100 dark:border-gray-700"},Ft={class:"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400"},Ht={class:"flex items-center gap-1"},Pt=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),Nt={class:"text-sm"},Et={class:"flex items-center gap-2"},Ut=["onClick"],Ot=["fill"],Rt=c(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)),Yt=[Rt],Kt={class:"text-sm"},Jt={class:"grid grid-cols-2 gap-2"},Qt=["onClick"],Xt=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),qt=["onClick"],Gt=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})],-1)),Wt={key:3,class:"text-center py-12 bg-white dark:bg-gray-800 rounded-lg shadow-sm border dark:border-gray-700"},Zt=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 mx-auto text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),eo=c(()=>e("p",{class:"mt-4 text-gray-600 dark:text-gray-400"},"暂无笔记模板",-1)),to={key:4,class:"mt-8 flex justify-center"},oo={class:"flex space-x-2"},so=["disabled"],ro={class:"flex space-x-1"},ao=["onClick"],lo=["disabled"],no={key:1,class:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4"},io={class:"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden border dark:border-gray-700"},co=c(()=>e("h3",{class:"font-semibold text-lg text-gray-800 dark:text-gray-200"},"笔记模板预览",-1)),uo=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),vo=[uo],ho={class:"p-6 overflow-y-auto max-h-[70vh] bg-white dark:bg-gray-900"},go={key:0},po={class:"flex justify-between items-center mb-4"},mo={class:"flex items-center"},wo={class:"text-xl font-bold text-gray-800 dark:text-gray-200"},fo={class:"flex items-center gap-1 text-gray-500 dark:text-gray-400 ml-3"},ko=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),xo={class:"flex space-x-2"},yo=["fill"],_o=c(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)),bo=[_o],Co=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),Mo=[Co],jo={key:0,class:"mb-4 rounded-lg overflow-hidden relative"},Io=["src","alt"],Vo=["fill"],zo=c(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)),So=[zo],$o={class:"prose dark:prose-invert max-w-none"},Do={class:"whitespace-pre-wrap text-gray-700 dark:text-gray-300 border-t border-b border-gray-100 dark:border-gray-700 py-4 my-4"},Lo={class:"mt-6 text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-800 p-3 rounded-md"},To={key:0},Ao={class:"border-t border-gray-200 dark:border-gray-700 p-4 flex justify-end bg-gray-50 dark:bg-gray-800"},Bo=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),Fo={key:2,class:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-70 backdrop-blur-sm"},Ho={class:"w-[700px] h-[800px] max-w-[90vw] max-h-[90vh] flex flex-col bg-gray-900 rounded-lg overflow-hidden"},Po={class:"flex justify-between items-center p-4 bg-gray-800 bg-opacity-80 backdrop-blur-sm border-b border-gray-700"},No={class:"text-lg font-bold text-white flex items-center"},Eo=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2 text-pink-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)),Uo={class:"truncate max-w-[500px]"},Oo={class:"flex space-x-2"},Ro=["fill"],Yo=c(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},null,-1)),Ko=[Yo],Jo=["fill"],Qo=c(()=>e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)),Xo=[Qo],qo=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)),Go=[qo],Wo={class:"flex-grow relative overflow-hidden"},Zo={key:0,class:"absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-70 z-10"},es=c(()=>e("div",{class:"flex flex-col items-center"},[e("div",{class:"h-10 w-10 border-4 border-t-pink-500 rounded-full animate-spin mb-4"}),e("p",{class:"text-white"},"笔记加载中...")],-1)),ts=[es],os={key:1,class:"absolute inset-0 flex items-center justify-center bg-gray-900 bg-opacity-70 z-10"},ss={class:"text-center p-4 rounded-lg bg-gray-800 max-w-md"},rs=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-12 w-12 text-red-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),as={class:"text-white mb-4"},ls=["src"],ns={class:"flex justify-between items-center p-4 bg-gray-800 border-t border-gray-700"},is=c(()=>e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7v8a2 2 0 002 2h6M8 7V5a2 2 0 012-2h4.586a1 1 0 01.707.293l4.414 4.414a1 1 0 01.293.707V15a2 2 0 01-2 2h-2M8 7H6a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2v-2"})],-1)),ds=ye({__name:"index",setup(_){const H=h(""),O=h("info"),R=h(!1),V=h(!1),j=h(""),$=h(""),ce=h(null),f=h([]),P=h(!1),Y=h(""),N=h("likesCount"),K=h("DESC"),z=h(1),E=h(12),S=h(0),B=ne(()=>Math.ceil(S.value/E.value)),w=ie({}),m=ie({}),ue=ne(()=>{const s=[];if(B.value<=5)for(let o=1;o<=B.value;o++)s.push(o);else{let o=Math.max(1,z.value-Math.floor(2.5)),r=Math.min(B.value,o+5-1);r-o+1<5&&(o=Math.max(1,r-5+1));for(let a=o;a<=r;a++)s.push(a)}return s}),J=h(!1),i=h(null),k=h([]),C=h(null);async function ve(){try{const s=await T.get("/xiaohongshu/notetype/list");console.log("获取笔记类型列表响应:",s.data);let t=s.data;if(t.code===200&&t.data&&typeof t.data=="object"&&t.data.code!==void 0&&(console.log("类型列表响应有多层包装，进行解包"),t=t.data),t&&(t.code===0||t.code===200)){const o=t.data;o.items?k.value=o.items:Array.isArray(o)?k.value=o:(console.error("无法解析笔记类型数据"),k.value=[]),k.value=k.value.filter(r=>r.status!==!1),k.value.sort((r,a)=>{const p=r.sort||0,d=a.sort||0;return p-d}),k.value.forEach(r=>{r.icon=he(r.name)}),console.log("处理后的笔记类型列表:",k.value)}else console.error("获取笔记类型列表失败:",t==null?void 0:t.message),k.value=[]}catch(s){console.error("获取笔记类型列表出错:",s),k.value=[]}}function he(s){const t={日常:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",美食:"M3 3h18v18H3V3z M15 3v18 M9 3v18 M3 9h18 M3 15h18",旅行:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9",穿搭:"M6.115 5.19l.319 1.913A6 6 0 008.11 10.36L9.75 12l-.387.775c-.217.433-.132.956.21 1.298l1.348 1.348c.21.21.329.497.329.795v1.089c0 .426.24.815.622 1.006l.153.076c.433.217.956.132 1.298-.21l.723-.723a8.7 8.7 0 002.288-4.042 1.087 1.087 0 00-.358-1.099l-1.33-1.108c-.251-.21-.582-.299-.905-.245l-1.17.195a1.125 1.125 0 01-.98-.314l-.295-.295a1.125 1.125 0 010-1.591l.13-.132a1.125 1.125 0 011.3-.21l.603.302a.809.809 0 001.086-1.086L14.25 7.5l1.256-.837a4.5 4.5 0 001.528-1.732l.146-.292",护肤:"M4.5 12.75l7.5-7.5 7.5 7.5m-15 6l7.5-7.5 7.5 7.5",健身:"M6.429 9.75L2.25 12l4.179 2.25m0-4.5l5.571 3 5.571-3m-11.142 0L2.25 7.5 12 2.25l9.75 5.25-4.179 2.25m0 0L21.75 12l-4.179 2.25m0 0l4.179 2.25L12 21.75 2.25 16.5l4.179-2.25m11.142 0l-5.571 3-5.571-3",学习:"M12 6.042A8.967 8.967 0 006 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 016 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 016-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0018 18a8.967 8.967 0 00-6 2.292m0-14.25v14.25",职场:"M20 12V8.5c0-1.933-1.567-3.5-3.5-3.5S13 6.567 13 8.5V12h1.5V8.5c0-1.105.895-2 2-2s2 .895 2 2V12H20zm-12 0V8.5c0-1.933-1.567-3.5-3.5-3.5S1 6.567 1 8.5V12h1.5V8.5c0-1.105.895-2 2-2s2 .895 2 2V12H8z",情感:"M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z",生活:"M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25",摄影:"M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0z",家居:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205l3 1m1.5.5l-1.5-.5M6.75 7.364V3h-3v18m3-13.636l10.5-3.819",通用:"M3.75 6A2.25 2.25 0 016 3.75h2.25A2.25 2.25 0 0110.5 6v2.25a2.25 2.25 0 01-2.25 2.25H6a2.25 2.25 0 01-2.25-2.25V6zM3.75 15.75A2.25 2.25 0 016 13.5h2.25a2.25 2.25 0 012.25 2.25V18a2.25 2.25 0 01-2.25 2.25H6A2.25 2.25 0 013.75 18v-2.25zM13.5 6a2.25 2.25 0 012.25-2.25H18A2.25 2.25 0 0120.25 6v2.25A2.25 2.25 0 0118 10.5h-2.25a2.25 2.25 0 01-2.25-2.25V6zM13.5 15.75a2.25 2.25 0 012.25-2.25H18a2.25 2.25 0 012.25 2.25V18A2.25 2.25 0 0118 20.25h-2.25A2.25 2.25 0 0113.5 18v-2.25z"},o="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10";if(!s)return o;if(t[s])return t[s];for(const r in t)if(s.includes(r))return t[r];return o}function Z(s){C.value=s,y(1)}async function y(s){P.value=!0,z.value=s;try{const t={page:z.value,pageSize:E.value,title:Y.value||void 0,withUserStatus:!0};D.value&&(t.favoriteOnly=!0),C.value!==null&&(t.typeId=C.value),N.value&&(t.orderBy=N.value,t.orderDirection=K.value),console.log("请求参数:",t);const o=["/xiaohongshu/note-template-market/list","/xiaohongshu/note/list"];let r=null,a="",p=null;for(const u of o)try{console.log("尝试API路径:",u);const M=await T.get(u,{params:t});console.log("原始响应数据:",M.data);let I=M.data;if(I.code===200&&I.data&&typeof I.data=="object"&&I.data.code!==void 0&&(console.log("检测到数据多包装一层，进行解包"),I=I.data),I&&(I.code===0||I.code===200)){r=I,a=u,console.log("成功获取数据，使用API路径:",u),console.log("处理后的响应数据:",r);break}}catch(M){console.warn(`API ${u} 请求失败:`,M),p=M}if(!r){console.warn("所有API路径均请求失败，使用测试数据");const u=re(E.value);f.value=u,S.value=30,x("无法连接到服务器，显示测试数据","info"),P.value=!1;return}console.log("获取笔记模板列表响应:",r);const d=r.data;console.log("响应数据结构:",d),d.items?f.value=d.items:d.list?f.value=d.list:Array.isArray(d)?f.value=d:(f.value=[],console.error("无法找到笔记列表数据")),d.total!==void 0?S.value=d.total:d.count!==void 0?S.value=d.count:S.value=f.value.length,console.log("解析后的笔记列表:",f.value),console.log("总数:",S.value),f.value.forEach(u=>{if(u.createTime&&typeof u.createTime=="string")try{new Date(u.createTime).getFullYear()>new Date().getFullYear()+1&&(console.log(`修复笔记 ${u.id} 的创建日期`,u.createTime),u.createTime=new Date().toISOString())}catch(M){console.warn(`处理笔记 ${u.id} 的创建日期出错`,M)}if(u.updateTime&&typeof u.updateTime=="string")try{new Date(u.updateTime).getFullYear()>new Date().getFullYear()+1&&(console.log(`修复笔记 ${u.id} 的更新日期`,u.updateTime),u.updateTime=new Date().toISOString())}catch(M){console.warn(`处理笔记 ${u.id} 的更新日期出错`,M)}u.userStatus?(w[u.id]=!!u.userStatus.liked,m[u.id]=!!u.userStatus.favorited):(w[u.id]=!!u.isLiked,m[u.id]=!!u.isFavorited)}),f.value.length===0&&S.value>0&&z.value>1&&y(1)}catch(t){console.error("获取笔记模板列表出错:",t),x("获取笔记模板列表出错: "+(t.message||"未知错误"),"error");const o=re(E.value);f.value=o,S.value=30}finally{P.value=!1}}async function ee(s){i.value=s,J.value=!0;try{const t=`/xiaohongshu/note-template-market/${s.id}`;console.log("预览API:",t);const o=await T.get(t,{params:{withUserStatus:!0}}).catch(a=>(console.warn("记录预览请求失败，这可能是正常现象:",a),{data:{code:1}}));console.log("预览原始响应:",o.data);let r=o.data;if(r.code===200&&r.data&&typeof r.data=="object"&&r.data.code!==void 0&&(console.log("预览响应有多层包装，进行解包"),r=r.data),r&&(r.code===0||r.code===200)&&r.data){r.data.viewsCount!==void 0&&(s.viewsCount=r.data.viewsCount);const a=r.data;a.userStatus?(w[s.id]=!!a.userStatus.liked,m[s.id]=!!a.userStatus.favorited):(a.isLiked!==void 0&&(w[s.id]=!!a.isLiked),a.isFavorited!==void 0&&(m[s.id]=!!a.isFavorited))}}catch(t){console.warn("记录预览过程出错:",t)}}function te(){J.value=!1,setTimeout(()=>{i.value=null},300)}async function Q(s,t){t&&t.stopPropagation();try{const o=w[s.id],r=o?"unlike":"like",a=`/xiaohongshu/note-template-market/${s.id}/${r}`;console.log(`${r}操作API:`,a);const p=await T.post(a);console.log(`${r}原始响应:`,p.data);let d=p.data;d.code===200&&d.data&&typeof d.data=="object"&&d.data.code!==void 0&&(console.log(`${r}响应有多层包装，进行解包`),d=d.data),d.code===0||d.code===200?(w[s.id]=!o,s.likesCount=d.data.likesCount,A.success(o?"已取消点赞":"点赞成功")):A.error(d.message||"操作失败")}catch(o){console.error("点赞操作出错:",o),A.error(o.message||"点赞操作失败")}}async function X(s,t){t&&t.stopPropagation();try{const o=m[s.id],r=o?"unfavorite":"favorite",a=`/xiaohongshu/note-template-market/${s.id}/${r}`;console.log(`${r}操作API:`,a);const p=await T.post(a);console.log(`${r}原始响应:`,p.data);let d=p.data;d.code===200&&d.data&&typeof d.data=="object"&&d.data.code!==void 0&&(console.log(`${r}响应有多层包装，进行解包`),d=d.data),d.code===0||d.code===200?(m[s.id]=!o,A.success(o?"已取消收藏":"收藏成功")):A.error(d.message||"操作失败")}catch(o){console.error("收藏操作出错:",o),A.error(o.message||"收藏操作失败")}}async function ge(s){try{if(!s||!s.noteId){x("无法查看笔记详情，缺少笔记ID","error");return}console.log("准备查看笔记详情:",s.noteId),V.value=!0,j.value="",R.value=!0;const t=typeof window<"u"?window.location.origin:"";$.value=`${t}/chat#/xhs-auto-api?id=${s.noteId}&isPreview=1`,console.log("查看笔记详情, URL:",$.value),setTimeout(()=>{V.value&&(V.value=!1,j.value="加载时间过长，请检查网络连接或刷新重试")},15e3)}catch(t){console.error("查看笔记详情出错:",t),j.value=t.message||"查看笔记详情出错",V.value=!1}}function F(){R.value=!1,$.value="",j.value="",V.value=!1,ce.value=null,console.log("关闭笔记详情弹窗")}function pe(){console.log("iframe加载完成"),V.value=!1,j.value=""}function me(s){console.error("iframe加载失败:",s),V.value=!1;let t=$.value;if(s){const o=s.target;o&&o.src&&(t=o.src)}!t||t==="undefined"||t==="null"?j.value="笔记链接无效，请联系管理员":j.value="笔记内容加载失败，请刷新重试"}function oe(s,t){const o=s.target;o.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24"%3E%3Cpath fill="%23cccccc" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"%3E%3C/path%3E%3C/svg%3E'}function se(s){if(!s)return"未知时间";try{const t=new Date(s);if(isNaN(t.getTime()))return console.warn("无效的日期:",s),"未知时间";const o=new Date;return t.getFullYear()>o.getFullYear()+1?(console.warn("检测到未来日期:",s,"使用当前日期替代"),o.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})):t.toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch(t){return console.error("格式化日期出错:",t,s),s||"未知时间"}}function x(s,t="info"){H.value=s,O.value=t,setTimeout(()=>{H.value=""},3e3)}function re(s=10){const t=[],o=C.value===null?[1,2,3]:[C.value];for(let r=0;r<s;r++){const a=r%o.length,p=o[a];t.push({id:1e3+r,title:`测试笔记模板 ${r+1}`,content:`这是一个测试笔记模板的内容，用于在API无法连接时显示界面效果。
这个模板包含了一些常见的内容格式和布局，可以作为参考。

如果你看到这条消息，说明当前API可能存在连接问题，但你仍然可以查看界面效果。`,coverImage:r%3===0?void 0:`https://picsum.photos/seed/${r+1}/400/300`,createTime:new Date().toISOString(),updateTime:new Date().toISOString(),likesCount:Math.floor(Math.random()*100),viewsCount:Math.floor(Math.random()*500),typeId:p,type:{id:p,name:["日常","美食","旅行"][p%3]}})}return t}function we(){if(C===null)return"全部";const s=k.value.find(t=>t.id===C.value);return(s==null?void 0:s.name)||"未知类型"}function ae(s){try{console.log("准备使用模板, 笔记:",s),x("正在导入模板...","info"),le(s),x("正在跳转到笔记工厂...","success")}catch(t){console.error("使用模板失败:",t),x("使用模板失败: "+((t==null?void 0:t.message)||"未知错误"),"error")}}function le(s){try{const t=[{id:s.id,title:s.title,content:s.content,coverImage:s.coverImage,source:"template_market",isFavorited:m[s.id]||!1,isLiked:w[s.id]||!1}];localStorage.setItem("template_data",JSON.stringify({templates:t,timestamp:new Date().getTime()})),Ie().showApp({id:"xhs-product-factory",name:"小红书笔记工厂",type:"built-in",path:"xhs-product-factory",params:{fromTemplate:"true",withFavoriteStatus:"true"}}),console.log("已跳转到笔记工厂，模板数据已传递")}catch(t){console.error("跳转到笔记工厂失败:",t),x("跳转失败，请重试","error")}}function fe(s){try{if(s.includes("?id=")){const d=s.match(/[\?&]id=([^&]+)/);if(d&&d[1])return d[1]}const t=new URL(s),r=new URLSearchParams(t.search).get("id");if(r)return r;const a=s.split("/"),p=a[a.length-1];return p&&!p.includes("?")?p:null}catch(t){return console.error("解析URL出错:",t),null}}async function ke(){var s;try{if(!$.value){x("无法获取当前笔记信息","error");return}const t=fe($.value);if(!t){x("无法解析笔记ID","error");return}console.log("准备使用模板，笔记ID:",t),x("正在获取笔记信息...","info");const o=await T.get(`/xiaohongshu/note-template-market/${t}`,{params:{withUserStatus:!0}});console.log("获取笔记详情响应:",o.data);let r=o.data;if(r.code===200&&r.data&&typeof r.data=="object"&&r.data.code!==void 0&&(r=r.data),r&&(r.code===0||r.code===200)){const a=r.data;if(!a){x("未找到笔记数据","error");return}a.userStatus?(w[a.id]=!!a.userStatus.liked,m[a.id]=!!a.userStatus.favorited):(a.isLiked!==void 0&&(w[a.id]=!!a.isLiked),a.isFavorited!==void 0&&(m[a.id]=!!a.isFavorited));const p={id:a.id,title:a.title||"",content:a.content||"",coverImage:a.coverImage,typeId:a.typeId||((s=a.type)==null?void 0:s.id)||1,type:a.type||{id:1,name:"未分类"},createTime:a.createTime||new Date().toISOString(),updateTime:a.updateTime||new Date().toISOString(),likesCount:a.likesCount||0,viewsCount:a.viewsCount||0};le(p),F(),x("正在跳转到笔记工厂...","success")}else x("获取笔记详情失败: "+((r==null?void 0:r.message)||"未知错误"),"error")}catch(t){console.error("使用模板出错:",t),x("使用模板失败: "+(t.message||"未知错误"),"error")}}_e(()=>{ve(),y(1)});const D=h(!1);function xe(){D.value=!D.value,y(1)}return(s,t)=>(l(),n("div",ze,[H.value?(l(),n("div",{key:0,class:b(["fixed top-4 left-1/2 transform -translate-x-1/2 z-50 px-4 py-2 rounded-md shadow-lg text-white transition-all",O.value==="success"?"bg-green-500":O.value==="error"?"bg-red-500":"bg-blue-500"])},v(H.value),3)):g("",!0),e("div",Se,[e("div",$e,[e("div",De,[e("div",Le,[Te,e("button",{class:"ml-2 p-1 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700",onClick:t[0]||(t[0]=o=>y(1)),title:"刷新"},Be)]),Fe]),e("div",He,[e("div",Pe,[e("div",Ne,[e("div",Ee,[q(e("input",{"onUpdate:modelValue":t[1]||(t[1]=o=>Y.value=o),type:"text",placeholder:"搜索笔记模板...",class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200",onKeyup:t[2]||(t[2]=Ce(o=>y(1),["enter"]))},null,544),[[be,Y.value]]),e("button",{class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-pink-500",onClick:t[3]||(t[3]=o=>y(1))},Oe)])]),e("div",Re,[e("button",{onClick:xe,class:b(["w-full px-4 py-2 border rounded-md flex items-center justify-center gap-2 transition-colors",D.value?"bg-pink-500 text-white border-pink-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50 dark:bg-gray-800 dark:text-gray-200 dark:border-gray-700 dark:hover:bg-gray-700"])},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:D.value?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Je,8,Ye)),e("span",null,v((D.value,"我的收藏")),1)],2)]),e("div",Qe,[q(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>N.value=o),class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200",onChange:t[5]||(t[5]=o=>y(1))},Ze,544),[[de,N.value]])]),e("div",et,[q(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>K.value=o),class:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500 dark:bg-gray-800 dark:border-gray-700 dark:text-gray-200",onChange:t[7]||(t[7]=o=>y(1))},st,544),[[de,K.value]])])])]),f.value.length>0?(l(),n("div",rt,[e("div",at,[e("p",null,"已加载 "+v(f.value.length)+" 条笔记数据 (总计 "+v(S.value)+" 条)",1),D.value?(l(),n("div",lt,dt)):g("",!0)])])):g("",!0),e("div",ct,[e("div",ut,[e("span",null,v(C.value===null?"显示全部笔记类型":`当前分类: ${we()}`),1),k.value.length>0?(l(),n("span",vt,"共 "+v(k.value.length)+" 个分类",1)):g("",!0)]),e("div",ht,[e("div",gt,[e("button",{class:b(["px-5 py-2 rounded-md transition-colors text-sm font-medium shadow-sm flex-shrink-0 flex items-center",C.value===null?"bg-pink-500 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600"]),onClick:t[8]||(t[8]=o=>Z(null))},[pt,L(" 全部 ")],2),(l(!0),n(G,null,W(k.value,o=>(l(),n("button",{key:o.id,class:b(["px-5 py-2 rounded-md transition-colors text-sm font-medium shadow-sm flex-shrink-0 flex items-center",C.value===o.id?"bg-pink-500 text-white":"bg-gray-100 text-gray-800 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600"]),onClick:r=>Z(o.id)},[o.icon?(l(),n("svg",{key:0,class:b(["h-5 w-5 mr-1.5",C.value===o.id?"text-white":"text-gray-500 dark:text-gray-400"]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{d:o.icon,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},null,8,wt)],2)):(l(),n("span",ft,v(o.name.substring(0,1)),1)),L(" "+v(o.name),1)],10,mt))),128))])])]),P.value?(l(),n("div",kt,yt)):f.value.length>0?(l(),n("div",_t,[(l(!0),n(G,null,W(f.value,o=>(l(),n("div",{key:o.id,class:"border rounded-lg overflow-hidden shadow hover:shadow-lg transition-all duration-300 bg-white dark:bg-gray-800 dark:border-gray-700 cursor-pointer flex flex-col h-full hover:scale-[1.02] hover:-translate-y-1",onClick:r=>ee(o)},[e("div",Ct,[o.coverImage?(l(),n("img",{key:0,src:o.coverImage,alt:o.title,class:"object-cover w-full h-full",onError:r=>oe(r)},null,40,Mt)):(l(),n("div",jt,Vt)),e("button",{onClick:U(r=>X(o,r),["stop"]),class:b(["absolute top-2 right-2 w-8 h-8 flex items-center justify-center rounded-full bg-black bg-opacity-40 hover:bg-opacity-60 transition-all transform hover:scale-105 shadow-lg z-20",{"text-yellow-400":m[o.id],"text-gray-200":!m[o.id]}]),title:"收藏"},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:m[o.id]?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Dt,8,St))],10,zt)]),e("div",Lt,[e("h3",{class:"font-semibold text-gray-800 dark:text-gray-200 mb-2 line-clamp-1 text-base",title:o.title},v(o.title),9,Tt),e("p",{class:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-3",title:o.content},v(o.content),9,At),e("div",Bt,[e("div",Ft,[e("span",Ht,[Pt,e("span",Nt,v(o.viewsCount||0),1)]),e("div",Et,[e("button",{onClick:U(r=>Q(o,r),["stop"]),class:b(["flex items-center gap-1 py-1 px-2 rounded hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",{"text-red-500":w[o.id]}]),title:"点赞"},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4",fill:w[o.id]?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor"},Yt,8,Ot)),e("span",Kt,v(o.likesCount||0),1)],10,Ut)])]),e("div",Jt,[e("button",{class:"px-3 py-2 bg-pink-500 text-white text-sm font-medium rounded hover:bg-pink-600 transition-colors w-full flex items-center justify-center",onClick:U(r=>ee(o),["stop"])},[Xt,L(" 查看 ")],8,Qt),o.noteId?(l(),n("button",{key:0,class:"px-3 py-2 bg-blue-500 text-white text-sm font-medium rounded hover:bg-blue-600 transition-colors w-full flex items-center justify-center",onClick:U(r=>ae(o),["stop"])},[Gt,L(" 使用模板 ")],8,qt)):g("",!0)])])])],8,bt))),128))])):(l(),n("div",Wt,[Zt,eo,e("button",{class:"mt-4 px-4 py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 transition-colors",onClick:t[9]||(t[9]=o=>y(1))}," 刷新 ")])),B.value>1?(l(),n("div",to,[e("div",oo,[e("button",{class:"px-3 py-1 border rounded-md disabled:opacity-50 disabled:cursor-not-allowed dark:border-gray-700 dark:text-gray-400",disabled:z.value===1,onClick:t[10]||(t[10]=o=>y(z.value-1))}," 上一页 ",8,so),e("div",ro,[(l(!0),n(G,null,W(ue.value,o=>(l(),n("button",{key:o,class:b(["px-3 py-1 border rounded-md dark:border-gray-700",z.value===o?"bg-pink-500 text-white border-pink-500":"hover:bg-gray-100 dark:hover:bg-gray-800"]),onClick:r=>y(o)},v(o),11,ao))),128))]),e("button",{class:"px-3 py-1 border rounded-md disabled:opacity-50 disabled:cursor-not-allowed dark:border-gray-700 dark:text-gray-400",disabled:z.value===B.value,onClick:t[11]||(t[11]=o=>y(z.value+1))}," 下一页 ",8,lo)])])):g("",!0)])]),J.value?(l(),n("div",no,[e("div",io,[e("div",{class:"border-b border-gray-200 dark:border-gray-700 p-4 flex justify-between items-center"},[co,e("button",{class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:te},vo)]),e("div",ho,[i.value?(l(),n("div",go,[e("div",po,[e("div",mo,[e("h2",wo,v(i.value.title),1),e("span",fo,[ko,e("span",null,v(i.value.viewsCount||0),1)])]),e("div",xo,[i.value?(l(),n("button",{key:0,onClick:t[12]||(t[12]=o=>Q(i.value)),class:b(["p-2 rounded-full hover:bg-gray-700 transition-colors",[w[i.value.id]?"text-red-500":"text-gray-400"]]),title:"点赞"},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:w[i.value.id]?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor"},bo,8,yo))],2)):g("",!0),e("button",{onClick:F,class:"p-2 text-white hover:text-gray-300 transition-colors rounded-full hover:bg-gray-700",title:"关闭"},Mo)])]),i.value.coverImage?(l(),n("div",jo,[e("img",{src:i.value.coverImage,alt:i.value.title,class:"w-full h-auto",onError:t[13]||(t[13]=o=>oe(o,i.value))},null,40,Io)])):g("",!0),i.value.coverImage?(l(),n("button",{key:1,onClick:t[14]||(t[14]=o=>X(i.value,o)),class:b(["absolute top-[72px] right-6 w-8 h-8 flex items-center justify-center rounded-full bg-black bg-opacity-40 hover:bg-opacity-60 transition-all transform hover:scale-105 shadow-lg z-20",{"text-yellow-400":m[i.value.id],"text-gray-200":!m[i.value.id]}]),title:"收藏"},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:m[i.value.id]?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},So,8,Vo))],2)):g("",!0),e("div",$o,[e("div",Do,v(i.value.content),1)]),e("div",Lo,[e("p",null,"创建时间: "+v(se(i.value.createTime)),1),e("p",null,"更新时间: "+v(se(i.value.updateTime)),1),i.value.type?(l(),n("p",To,"分类: "+v(i.value.type.name||i.value.typeName||"未分类"),1)):g("",!0)])])):g("",!0)]),e("div",Ao,[e("button",{class:"px-4 py-2 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors mr-2 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600",onClick:te}," 关闭 "),i.value?(l(),n("button",{key:0,class:"px-4 py-2 bg-pink-500 text-white rounded-md hover:bg-pink-600 transition-colors mr-2 flex items-center",onClick:t[15]||(t[15]=o=>ge(i.value))},[Bo,L(" 查看示例 ")])):g("",!0),i.value&&i.value.noteId?(l(),n("button",{key:1,class:"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",onClick:t[16]||(t[16]=o=>ae(i.value))}," 使用模板 ")):g("",!0)])])])):g("",!0),R.value?(l(),n("div",Fo,[e("div",Ho,[e("div",Po,[e("h3",No,[Eo,e("span",Uo,v(i.value?i.value.title:"笔记详情"),1)]),e("div",Oo,[i.value?(l(),n("button",{key:0,onClick:t[17]||(t[17]=o=>Q(i.value)),class:b(["p-2 rounded-full hover:bg-gray-700 transition-colors",[w[i.value.id]?"text-red-500":"text-gray-400"]]),title:"点赞"},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:w[i.value.id]?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ko,8,Ro))],2)):g("",!0),i.value?(l(),n("button",{key:1,onClick:t[18]||(t[18]=o=>X(i.value)),class:b(["p-2 rounded-full hover:bg-gray-700 transition-colors w-8 h-8 flex items-center justify-center",{"text-yellow-400":m[i.value.id],"text-gray-200":!m[i.value.id]}]),title:"收藏"},[(l(),n("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:m[i.value.id]?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Xo,8,Jo))],2)):g("",!0),e("button",{onClick:F,class:"p-2 text-white hover:text-gray-300 transition-colors rounded-full hover:bg-gray-700",title:"关闭"},Go)])]),e("div",Wo,[V.value?(l(),n("div",Zo,ts)):j.value?(l(),n("div",os,[e("div",ss,[rs,e("p",as,v(j.value),1),e("button",{onClick:F,class:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-all duration-200"}," 关闭 ")])])):g("",!0),$.value?(l(),n("iframe",{key:2,src:$.value,class:"w-full h-full border-none",sandbox:"allow-same-origin allow-scripts allow-popups allow-forms",allow:"clipboard-write",referrerpolicy:"no-referrer",onLoad:pe,onError:me},null,40,ls)):g("",!0)]),e("div",ns,[e("button",{onClick:F,class:"px-4 py-2 bg-gray-700 text-white rounded-md hover:bg-gray-600 transition-all duration-200"}," 关闭 "),!V.value&&!j.value?(l(),n("button",{key:0,onClick:ke,class:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-md hover:from-blue-600 hover:to-blue-700 transition-all duration-300 transform active:scale-95 flex items-center"},[is,L(" 使用模板 ")])):g("",!0)])])])):g("",!0)]))}});const ps=Ve(ds,[["__scopeId","data-v-e4832ba3"]]);export{ps as default};
