
/**
 * 由 Fantastic-admin 提供技术支持
 * Powered by Fantastic-admin
 * https://fantastic-admin.github.io
 */

import{d as E,u as F,r,m as M,a as O,p as c,q as P,g as s,c as b,b as l,w as t,i as n,a1 as C,x as I,y as G,F as W,s as N,v as f,h as _,z as H,t as j,D as J,e as Q,G as R,E as X,I as Y,k as S}from"./index-CnisIzlN.js";import{_ as Z}from"./index.vue_vue_type_script_setup_true_lang-BkBSJsBX.js";import{A as g}from"./badWords-BnHZmCv5.js";import{E as ee}from"./index-BE-LteFu.js";const te=Q("div",{class:"flex items-center gap-4"},"自定义敏感词",-1),ae=E({__name:"custom",setup(le){F();const k=r(),D=r(0),p=r(!1),u=M({word:"",status:"",page:1,size:500}),V=r();async function i(){try{p.value=!0;const o=await g.queryBadWords(u),{rows:a,count:v}=o.data;p.value=!1,D.value=v,V.value=a}catch{p.value=!1}}function T(o){o==null||o.resetFields(),i()}O(()=>{i()});const d=r(""),m=r(!1),B=r();async function z(o){await g.delBadWords({id:o}),R.success("删除敏感词成功"),await i()}function A(){m.value=!0,X(()=>{B.value.input.focus()})}async function h(){d.value&&(await g.addBadWords({word:d.value}),R.success("添加敏感词成功"),u.status="",await i()),m.value=!1,d.value=""}return(o,a)=>{const v=Z,w=c("el-form-item"),K=c("el-option"),L=c("el-select"),y=c("el-button"),U=c("el-form"),x=Y,$=c("el-tag"),q=P("loading");return s(),b("div",null,[l(v,null,{title:t(()=>[te]),_:1}),l(x,null,{default:t(()=>[l(U,{ref_key:"formRef",ref:k,inline:!0,model:u},{default:t(()=>[l(w,{label:"敏感词",prop:"word"},{default:t(()=>[l(n(C),{modelValue:u.word,"onUpdate:modelValue":a[0]||(a[0]=e=>u.word=e),placeholder:"敏感词[模糊搜索]",onKeydown:I(G(i,["prevent"]),["enter"])},null,8,["modelValue","onKeydown"])]),_:1}),l(w,{label:"敏感词状态",prop:"status"},{default:t(()=>[l(L,{modelValue:u.status,"onUpdate:modelValue":a[1]||(a[1]=e=>u.status=e),placeholder:"请选择敏感词状态",clearable:"",style:{width:"160px"}},{default:t(()=>[(s(!0),b(W,null,N(n(ee),e=>(s(),f(K,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(w,null,{default:t(()=>[l(y,{type:"primary",onClick:i},{default:t(()=>[_(" 查询 ")]),_:1}),l(y,{onClick:a[2]||(a[2]=e=>T(n(k)))},{default:t(()=>[_(" 重置 ")]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),H((s(),f(x,{style:{width:"100%"}},{default:t(()=>[(s(!0),b(W,null,N(n(V),e=>(s(),f($,{key:e.id,type:"warning",class:"mb-3 mr-3",closable:"",hit:"","disable-transitions":!0,onClose:oe=>z(e.id)},{default:t(()=>[_(j(e.word),1)]),_:2},1032,["onClose"]))),128)),n(m)?(s(),f(n(C),{key:0,ref_key:"InputRef",ref:B,modelValue:n(d),"onUpdate:modelValue":a[3]||(a[3]=e=>J(d)?d.value=e:null),class:"ml-1",style:{width:"80px"},size:"small",onKeyup:I(h,["enter"]),onBlur:h},null,8,["modelValue"])):(s(),f(y,{key:1,class:"ml-1",size:"small",onClick:A},{default:t(()=>[_(" + New Word ")]),_:1}))]),_:1})),[[q,n(p)]])])}}});typeof S=="function"&&S(ae);export{ae as default};
